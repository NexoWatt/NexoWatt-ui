<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>NexoWatt – Ladekarten-Abrechnung</title>
  <link rel="stylesheet" href="/static/styles.css"/>
  <style>
    body{ background:#fff; color:#111; }
    .wrap{ max-width:980px; margin:16px auto; padding:0 12px; }
    header{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px; }
    h1{ font-size:18px; margin:0; }
    .meta{ font-size:12px; color:#555; margin-top:4px; }
    table{ width:100%; border-collapse:collapse; margin-top:12px; }
    th,td{ border:1px solid #ddd; padding:6px 8px; font-size:12px; }
    th{ background:#f3f3f3; text-align:left; }
    tfoot td{ font-weight:bold; background:#fafafa; }
    .actions{ display:flex; gap:8px; flex-wrap:wrap; justify-content:flex-end; }
    .btn{ border:1px solid #ccc; background:#fff; color:#111; padding:6px 10px; border-radius:6px; cursor:pointer; }
    .btn.primary{ background:#111; color:#fff; border-color:#111; }
    .muted{ color:#666; }
    @media print{
      .no-print{ display:none !important; }
      body{ margin:0; }
      .wrap{ max-width:none; padding:0; }
      table{ page-break-inside:auto; }
      tr{ page-break-inside:avoid; page-break-after:auto; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="no-print">
      <div>
        <h1>Ladekarten-Abrechnung</h1>
        <div class="meta" id="metaText">–</div>
      </div>
      <div class="actions">
        <button class="btn" id="reloadBtn" type="button">Neu laden</button>
        <button class="btn" id="csvBtn" type="button">CSV Tageswerte</button>
        <button class="btn" id="csvSessionsBtn" type="button">CSV Sessions</button>
        <button class="btn primary" id="printBtn" type="button">Drucken / PDF</button>
      </div>
    </header>

    <div class="meta" id="metaTextPrint"></div>

    <table id="reportTable">
      <thead>
        <tr>
          <th>Datum</th>
          <th style="text-align:right;">Sessions</th>
          <th style="text-align:right;">Energie (kWh)</th>
          <th style="text-align:right;">Max (kW)</th>
        </tr>
      </thead>
      <tbody></tbody>
      <tfoot>
        <tr>
          <td>Summe Zeitraum</td>
          <td id="sumSessions" style="text-align:right;">0</td>
          <td id="sumKwh" style="text-align:right;">0,000</td>
          <td id="sumPeakKw" style="text-align:right;">0,00</td>
        </tr>
      </tfoot>
    </table>

    <div class="meta muted" style="margin-top:10px;">
      Hinweis: Für die PDF-Ausgabe bitte „Drucken / PDF“ nutzen (Browser-Druckdialog).
    </div>
  </div>

  <script src="/static/rfid-report.js"></script>
</body>
</html>
